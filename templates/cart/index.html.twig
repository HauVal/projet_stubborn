{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
<h1>Votre panier</h1>

{% if cart is empty %}
    <p>Votre panier est vide.</p>
    <a href="/products" class="btn btn-primary">Continuer mes achats</a>
{% else %}
    <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Nom</th>
                <th>Prix</th>
                <th>Taille</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for index, item in cart %}
                <tr>
                    <td><img src="{{ asset('imagesProduits/' ~ item.image) }}" alt="{{ item.name }}" width="100"></td>
                    <td>{{ item.name }}</td>
                    <td>{{ item.price }} €</td>
                    <td>{{ item.size }}</td>
                    <td>
                        <form action="{{ path('cart_remove', { index: index }) }}" method="POST">
                            <button type="submit" class="btn btn-danger">Retirer du panier</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div>
        <p>Total : <strong>{{ total }} €</strong></p>
        <button class="btn btn-success">Finaliser ma commande</button>
        <a href="/products" class="btn btn-primary">Continuer mes achats</a>
    </div>
{% endif %}
{% endblock %}
