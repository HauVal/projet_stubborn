{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<div class="container">

    <header>
        <div class="logo">
            <img src="{{ asset('images/Logo.png') }}" alt="Logo">
            <p>Don't compromise on your look</p>
        </div>
        
        <nav>
            <a href="/">Accueil</a>
            {% if app.user %}
                <span>Bonjour, {{ app.user.name }} !</span>
                <a href="/logout">Se déconnecter</a>
            {% else %}
                <a href="/login">Se connecter</a>
                <a href="/register">S'inscrire</a>
            {% endif %}
        </nav>
    </header>

    <div style="text-align: center; margin-top: 50px;">
        {% for message in app.flashes('success') %}
            <div class="alert alert-success">{{ message }}</div>
        {% endfor %}

        <h1>Se connecter</h1>
        
        <form method="post" action="{{ path('login') }}">
            {% if error %}
                <div style="color: red;">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}

            <label for="username">Nom utilisateur :</label>
            <input type="text" id="username" name="_username" value="{{ last_username }}" required autofocus>

            <label for="password">Mot de passe :</label>
            <input type="password" id="password" name="_password" required>

            <button type="submit" style="background-color: blue; color: white;">Se connecter</button>
        </form>

        <div style="margin-top: 20px;">
            <a href="/">Retour à l'accueil</a><br>
            <a href="/register">Pas encore inscrit ?</a>
        </div>
    </div>

    <footer>
        <p><strong>Stubborn</strong> est une entreprise de vente de sweat-shirts.</p>
        <p>Piccadilly Circus, London W1J 0DA, Royaume-Uni</p>
        <a href="mailto:stubborn@blabla.com">stubborn@blabla.com</a>
    </footer>

</div>
{% endblock %}